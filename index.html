<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IMSSA Mulhouse ‚Äì Exercices</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="user-panel">
        <label for="username">Utilisateur :</label>
        <input type="text" id="username" placeholder="Entrez votre nom" />
        <button id="save-user">‚úîÔ∏è</button>
        <button id="export-favs">Exporter favoris</button>
        <button id="import-favs">Importer favoris</button>
        <textarea id="import-area" placeholder="Collez ici vos favoris JSON"></textarea>
      </div>
      <h1>Exercices en ligne</h1>
      <p>√âtirements, Renforcement, R√©athl√©tisation</p>
    </header>

    <main class="site-content">
      <!-- Section √âtirements -->
      <section class="section-etirements">
        <h2>√âtirements-Mobilit√©</h2>
        <div class="grid">
          <div class="grid-item">
            <h3>Membre inf√©rieur</h3>
            <ul class="video-links">
              <li class="video-item">
                <a href="video.html?id=ID_INF1">Vid√©o 1 ‚Äì √âtirement MI</a>
                <button class="fav-btn" data-id="ID_EINF1" data-label="Vid√©o 1 ‚Äì √âtirement MI"></button>
            </li>
              <li class="video-item">
                <a href="video.html?id=ID_INF2">Vid√©o 2 ‚Äì √âtirement MI</a>
                <button class="fav-btn" data-id="ID_EINF2" data-label="Vid√©o 2 ‚Äì √âtirement MI"></button>
            </li>
            </ul>
          </div>
          <div class="grid-item">
            <h3>Membre sup√©rieur</h3>
            <ul class="video-links">
              <li class="video-item">
                <a href="video.html?id=ID_SUP1">Vid√©o 1 ‚Äì √âtirement MS</a>
                <button class="fav-btn" data-id="ID_ESUP1" data-label="Vid√©o 1 ‚Äì √âtirement MS"></button>
              </li>
              <li class="video-item">
                <a href="video.html?id=ID_SUP2">Vid√©o 2 ‚Äì √âtirement MS</a>
                <button class="fav-btn" data-id="ID_ESUP2" data-label="Vid√©o 2 ‚Äì √âtirement MS"></button>
              </li>
            </ul>
          </div>
          <div class="grid-item">
            <h3>Colonne</h3>
            <ul class="video-links">
              <li class="video-item">
                <a href="video.html?id=ID_COL1">Vid√©o 1 ‚Äì √âtirement Colonne</a>
                <button class="fav-btn" data-id="ID_ECOL1" data-label="Vid√©o 1 ‚Äì √âtirement Colonne"></button>
              </li>
              <li class="video-item">
                <a href="video.html?id=ID_COL2">Vid√©o 2 ‚Äì √âtirement Colonne</a>
                <button class="fav-btn" data-id="ID_ECOL2" data-label="Vid√©o 2 ‚Äì √âtirement Colonne"></button>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Section Renforcement -->
      <section class="section-renforcement">
        <h2>Renforcement-Proprioception</h2>
        <div class="grid">
          <div class="grid-item">
            <h3>Membre inf√©rieur</h3>
            <ul class="video-links">
              <li class="video-item">
                <a href="video.html?id=ID_RINF1">Vid√©o 1 ‚Äì Renforcement MI</a>
                <button class="fav-btn" data-id="ID_RINF1" data-label="Vid√©o 1 ‚Äì Renforcement MI"></button> 
              </li>
              <li class="video-item">
                <a href="video.html?id=ID_RINF2">Vid√©o 2 ‚Äì Renforcement MI</a>
                <button class="fav-btn" data-id="ID_RINF2" data-label="Vid√©o 2 ‚Äì Renforcement MI"></button>
              </li>
            </ul>
          </div>
          <div class="grid-item">
            <h3>Membre sup√©rieur</h3>
            <ul class="video-links">
              <li class="video-item">
                <a href="video.html?id=ID_RSUP1">Vid√©o 1 ‚Äì Renforcement MS</a>
                <button class="fav-btn" data-id="ID_RSUP1" data-label="Vid√©o 1 ‚Äì Renforcement MS"></button>
              </li>
              <li class="video-item">
                <a href="video.html?id=ID_RSUP2">Vid√©o 2 ‚Äì Renforcement MS</a>
                <button class="fav-btn" data-id="ID_RSUP2" data-label="Vid√©o 2 ‚Äì Renforcement MS"></button>
              </li>
            </ul>
          </div>
          <div class="grid-item">
            <h3>Colonne</h3>
            <ul class="video-links">
              <li class="video-item">
                <a href="video.html?id=TSBuJYPxQjs&label=Adducteurs+omoplates">Adducteurs omoplates</a>
                <button class="fav-btn" data-id="TSBuJYPxQjs" data-label="Renforcement adducteurs omoplates"></button>
              </li>
              <li class="video-item">
                <a href="video.html?id=CPVFoSCOdiw&label=Autograndissement">Autograndissement</a>
                <button class="fav-btn" data-id="CPVFoSCOdiw" data-label="Autograndissement"></button>
              </li>
              <li class="video-item">
                <a href="video.html?id=PLyG9IALZ75hyAAE0ELHSn9h6xq_cH-Z3t">Renforcement Colonne</a>
                <button class="fav-btn" data-id="ID_RCOL2" data-label="Renforcement Colonne"></button>    
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Section R√©athl√©tisation -->
      <section class="section-reathelitisation">
        <h2>R√©athl√©tisation</h2>
        <div class="grid">
          <div class="grid-item">
            <h3>Haut du corps</h3>
            <ul class="video-links">
              <li class="video-item">
                <a href="video.html?id=ID_HAUT1">Vid√©o 1 ‚Äì R√©athl. Haut</a>
                <button class="fav-btn" data-id="ID_RHAUT1" data-label="Vid√©o 1 ‚Äì R√©athl. Haut"></button>
              </li>
              <li class="video-item">
                <a href="video.html?id=ID_HAUT2">Vid√©o 2 ‚Äì R√©athl. Haut</a>
                <button class="fav-btn" data-id="ID_RHAUT2" data-label="Vid√©o 2 ‚Äì R√©athl. Haut"></button>
              </li>
            </ul>
          </div>
          <div class="grid-item">
            <h3>Bas du corps</h3>
            <ul class="video-links">
              <li class="video-item">
                <a href="video.html?id=ID_BAS1">Vid√©o 1 ‚Äì R√©athl. Bas</a>
                <button class="fav-btn" data-id="ID_RBAS1" data-label="Vid√©o 1 ‚Äì R√©athl. Bas"></button>
              </li>
              <li class="video-item">
                <a href="video.html?id=ID_BAS2">Vid√©o 2 ‚Äì R√©athl. Bas</a>
                <button class="fav-btn" data-id="ID_RBAS2" data-label="Vid√©o 2 ‚Äì R√©athl. Bas"></button>
              </li>
            </ul>
          </div>
          <div class="grid-item">
            <h3>Cardio</h3>
            <ul class="video-links">
              <li class="video-item">
                <a href="video.html?id=ID_CARD1">Vid√©o 1 ‚Äì Cardio</a>
                <button class="fav-btn" data-id="ID_CARD1" data-label="Vid√©o 1 ‚Äì Cardio"></button>
              </li>
              <li class="video-item">
                <a href="video.html?id=ID_CARD2">Vid√©o 2 ‚Äì Cardio</a>
                <button class="fav-btn" data-id="ID_CARD2" data-label="Vid√©o 2 ‚Äì Cardio"></button>
              </li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <nav class="site-nav">
        <a href="menu.html">Mes favoris</a>
      </nav>
      <p>&copy; Cabinet Kin√©</p>
    </footer>
     <script>
  // 1Ô∏è‚É£ D√©termination du pseudo utilisateur (prompt si non encore d√©fini)
  let currentUser = localStorage.getItem("currentUser");
  if (!currentUser) {
    currentUser = prompt("Entrez votre nom pour retrouver vos favoris :")?.trim();
    if (currentUser) {
      localStorage.setItem("currentUser", currentUser);
    } else {
      alert("Un nom est requis pour utiliser les favoris.");
      // tu peux recharger ou bloquer l'usage des favoris ici
    }
  }

  // 2Ô∏è‚É£ Fonctions de gestion des favoris par utilisateur
  function getFavoris() {
    if (!currentUser) return [];
    return JSON.parse(localStorage.getItem(`favoris_${currentUser}`) || "[]");
  }

  function saveFavoris(favoris) {
    if (!currentUser) return;
    localStorage.setItem(`favoris_${currentUser}`, JSON.stringify(favoris));
  }

  function isInFavoris(id) {
    return getFavoris().some(item => item.id === id);
  }

  function updateButton(button, id) {
    button.textContent = isInFavoris(id) ? "‚ù§Ô∏è" : "ü©∂";
  }

  function toggleFavori(id, label, button) {
    const favoris = getFavoris();
    const idx = favoris.findIndex(f => f.id === id);

    if (idx !== -1) {
      favoris.splice(idx, 1);
    } else {
      favoris.push({ id, label });
    }

    saveFavoris(favoris);
    updateButton(button, id);
  }

  // 3Ô∏è‚É£ Initialisation des boutons
  document.querySelectorAll(".fav-btn").forEach(button => {
    const { id, label } = button.dataset;

    updateButton(button, id);

    button.addEventListener("click", () => {
      toggleFavori(id, label, button);
    });
  });
</script>


  </body>
</html>
